<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compare Two Time Series Models — ts_model_compare • healthyR.ts</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Compare Two Time Series Models — ts_model_compare"><meta property="og:description" content="This function will expect to take in two models that will be used for comparison.
It is useful to use this after appropriately following the modeltime workflow and
getting two models to compare. This is an extension of the calibrate and plot, but
it only takes two models and is most likely better suited to be used after running
a model through the ts_model_auto_tune() function to see the difference in performance
after a base model has been tuned."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-HKLXBY9V6J"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HKLXBY9V6J');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">healthyR.ts</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.8.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/getting-started.html">Getting Started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Tidy FFT Analysis</li>
    <li>
      <a href="../articles/using-tidy-fft.html">Using tidy_fft</a>
    </li>
    <li class="dropdown-header">Automatic Timeseries Model Tuning</li>
    <li>
      <a href="../articles/auto-model-tune.html">Auto Tuning</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/spsanderson/healthyR.ts/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compare Two Time Series Models</h1>
    <small class="dont-index">Source: <a href="https://github.com/spsanderson/healthyR.ts/blob/HEAD/R/ts-model-compare.R" class="external-link"><code>R/ts-model-compare.R</code></a></small>
    <div class="hidden name"><code>ts_model_compare.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function will expect to take in two models that will be used for comparison.
It is useful to use this after appropriately following the modeltime workflow and
getting two models to compare. This is an extension of the calibrate and plot, but
it only takes two models and is most likely better suited to be used after running
a model through the <code><a href="ts_model_auto_tune.html">ts_model_auto_tune()</a></code> function to see the difference in performance
after a base model has been tuned.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">ts_model_compare</span><span class="op">(</span>
  <span class="va">.model_1</span>,
  <span class="va">.model_2</span>,
  .type <span class="op">=</span> <span class="st">"testing"</span>,
  <span class="va">.splits_obj</span>,
  <span class="va">.data</span>,
  .print_info <span class="op">=</span> <span class="cn">TRUE</span>,
  .metric <span class="op">=</span> <span class="st">"rmse"</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>.model_1</dt>
<dd><p>The model being compared to the base, this can also be a
hyperparameter tuned model.</p></dd>
<dt>.model_2</dt>
<dd><p>The base model.</p></dd>
<dt>.type</dt>
<dd><p>The default is the testing tibble, can be set to training as well.</p></dd>
<dt>.splits_obj</dt>
<dd><p>The splits object</p></dd>
<dt>.data</dt>
<dd><p>The original data that was passed to splits</p></dd>
<dt>.print_info</dt>
<dd><p>This is a boolean, the default is TRUE</p></dd>
<dt>.metric</dt>
<dd><p>This should be one of the following character strings:</p><ul><li><p>"mae"</p></li>
<li><p>"mape"</p></li>
<li><p>"mase"</p></li>
<li><p>"smape"</p></li>
<li><p>"rmse"</p></li>
<li><p>"rsq"</p></li>
</ul></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>The function outputs a list invisibly.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function expects to take two models. You must tell it if it will
be assessing the training or testing data, where the testing data is the default.
You must therefore supply the splits object to this function along with the origianl
dataset. You must also tell it which default modeltime accuracy metric should
be printed on the graph itself. You can also tell this function to print
information to the console or not. A static <code>ggplot2</code> polot and an interactive
<code>plotly</code> plot will be returned inside of the output list.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other Utility: 
<code><a href="calibrate_and_plot.html">calibrate_and_plot</a>()</code>,
<code><a href="model_extraction_helper.html">model_extraction_helper</a>()</code>,
<code><a href="ts_info_tbl.html">ts_info_tbl</a>()</code>,
<code><a href="ts_model_rank_tbl.html">ts_model_rank_tbl</a>()</code>,
<code><a href="ts_qq_plot.html">ts_qq_plot</a>()</code>,
<code><a href="ts_scedacity_scatter_plot.html">ts_scedacity_scatter_plot</a>()</code>,
<code><a href="ts_to_tbl.html">ts_to_tbl</a>()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Steven P. Sanderson II, MPH</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/spsanderson/healthyR.ts" class="external-link">healthyR.ts</a></span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/business-science/modeltime" class="external-link">modeltime</a></span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/business-science/timetk" class="external-link">timetk</a></span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rsample.tidymodels.org" class="external-link">rsample</a></span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">data_tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="ts_to_tbl.html">ts_to_tbl</a></span><span class="op">(</span><span class="va">AirPassengers</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">index</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">splits</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://business-science.github.io/timetk/reference/time_series_split.html" class="external-link">time_series_split</a></span><span class="op">(</span></span>
<span class="r-in">  data       <span class="op">=</span> <span class="va">data_tbl</span>,</span>
<span class="r-in">  date_var   <span class="op">=</span> <span class="va">date_col</span>,</span>
<span class="r-in">  assess     <span class="op">=</span> <span class="st">"12 months"</span>,</span>
<span class="r-in">  cumulative <span class="op">=</span> <span class="cn">TRUE</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">rec_obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="ts_auto_recipe.html">ts_auto_recipe</a></span><span class="op">(</span></span>
<span class="r-in"> .data     <span class="op">=</span> <span class="va">data_tbl</span>,</span>
<span class="r-in"> .date_col <span class="op">=</span> <span class="va">date_col</span>,</span>
<span class="r-in"> .pred_col <span class="op">=</span> <span class="va">value</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">wfs_mars</span> <span class="op">&lt;-</span> <span class="fu"><a href="ts_wfs_mars.html">ts_wfs_mars</a></span><span class="op">(</span>.recipe_list <span class="op">=</span> <span class="va">rec_obj</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">wf_fits</span> <span class="op">&lt;-</span> <span class="va">wfs_mars</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="https://business-science.github.io/modeltime/reference/modeltime_fit_workflowset.html" class="external-link">modeltime_fit_workflowset</a></span><span class="op">(</span></span>
<span class="r-in">    data <span class="op">=</span> <span class="fu"><a href="https://rsample.tidymodels.org/reference/initial_split.html" class="external-link">training</a></span><span class="op">(</span><span class="va">splits</span><span class="op">)</span></span>
<span class="r-in">    , control <span class="op">=</span> <span class="fu"><a href="https://business-science.github.io/modeltime/reference/control_modeltime.html" class="external-link">control_fit_workflowset</a></span><span class="op">(</span></span>
<span class="r-in">         allow_par <span class="op">=</span> <span class="cn">FALSE</span></span>
<span class="r-in">         , verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span class="r-in">       <span class="op">)</span></span>
<span class="r-in"> <span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">calibration_tbl</span> <span class="op">&lt;-</span> <span class="va">wf_fits</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">    <span class="fu"><a href="https://business-science.github.io/modeltime/reference/modeltime_calibrate.html" class="external-link">modeltime_calibrate</a></span><span class="op">(</span>new_data <span class="op">=</span> <span class="fu"><a href="https://rsample.tidymodels.org/reference/initial_split.html" class="external-link">testing</a></span><span class="op">(</span><span class="va">splits</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">base_mars</span> <span class="op">&lt;-</span> <span class="va">calibration_tbl</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://business-science.github.io/modeltime/reference/pluck_modeltime_model.html" class="external-link">pluck_modeltime_model</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="va">date_mars</span> <span class="op">&lt;-</span> <span class="va">calibration_tbl</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://business-science.github.io/modeltime/reference/pluck_modeltime_model.html" class="external-link">pluck_modeltime_model</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">ts_model_compare</span><span class="op">(</span></span>
<span class="r-in"> .model_1    <span class="op">=</span> <span class="va">base_mars</span>,</span>
<span class="r-in"> .model_2    <span class="op">=</span> <span class="va">date_mars</span>,</span>
<span class="r-in"> .type       <span class="op">=</span> <span class="st">"testing"</span>,</span>
<span class="r-in"> .splits_obj <span class="op">=</span> <span class="va">splits</span>,</span>
<span class="r-in"> .data       <span class="op">=</span> <span class="va">data_tbl</span>,</span>
<span class="r-in"> .print_info <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span class="r-in"> .metric     <span class="op">=</span> <span class="st">"rmse"</span></span>
<span class="r-in"> <span class="op">)</span><span class="op">$</span><span class="va">plots</span><span class="op">$</span><span class="va">static_plot</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Steven Sanderson.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

