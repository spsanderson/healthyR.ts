<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function will expect to take in two models that will be used for comparison.
It is useful to use this after appropriately following the modeltime workflow and
getting two models to compare. This is an extension of the calibrate and plot, but
it only takes two models and is most likely better suited to be used after running
a model through the ts_model_auto_tune() function to see the difference in performance
after a base model has been tuned."><title>Compare Two Time Series Models — ts_model_compare • healthyR.ts</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compare Two Time Series Models — ts_model_compare"><meta property="og:description" content="This function will expect to take in two models that will be used for comparison.
It is useful to use this after appropriately following the modeltime workflow and
getting two models to compare. This is an extension of the calibrate and plot, but
it only takes two models and is most likely better suited to be used after running
a model through the ts_model_auto_tune() function to see the difference in performance
after a base model has been tuned."><meta property="og:image" content="https://www.spsanderson.com/healthyR.ts/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">healthyR.ts</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.8.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/getting-started.html">Getting Started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Tidy FFT Analysis</h6>
    <a class="dropdown-item" href="../articles/using-tidy-fft.html">Using tidy_fft</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/spsanderson/healthyR.ts/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Compare Two Time Series Models</h1>
      <small class="dont-index">Source: <a href="https://github.com/spsanderson/healthyR.ts/blob/HEAD/R/ts-model-compare.R" class="external-link"><code>R/ts-model-compare.R</code></a></small>
      <div class="d-none name"><code>ts_model_compare.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function will expect to take in two models that will be used for comparison.
It is useful to use this after appropriately following the modeltime workflow and
getting two models to compare. This is an extension of the calibrate and plot, but
it only takes two models and is most likely better suited to be used after running
a model through the <code><a href="ts_model_auto_tune.html">ts_model_auto_tune()</a></code> function to see the difference in performance
after a base model has been tuned.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ts_model_compare</span><span class="op">(</span></span>
<span>  <span class="va">.model_1</span>,</span>
<span>  <span class="va">.model_2</span>,</span>
<span>  .type <span class="op">=</span> <span class="st">"testing"</span>,</span>
<span>  <span class="va">.splits_obj</span>,</span>
<span>  <span class="va">.data</span>,</span>
<span>  .print_info <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .metric <span class="op">=</span> <span class="st">"rmse"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>.model_1</dt>
<dd><p>The model being compared to the base, this can also be a
hyperparameter tuned model.</p></dd>


<dt>.model_2</dt>
<dd><p>The base model.</p></dd>


<dt>.type</dt>
<dd><p>The default is the testing tibble, can be set to training as well.</p></dd>


<dt>.splits_obj</dt>
<dd><p>The splits object</p></dd>


<dt>.data</dt>
<dd><p>The original data that was passed to splits</p></dd>


<dt>.print_info</dt>
<dd><p>This is a boolean, the default is TRUE</p></dd>


<dt>.metric</dt>
<dd><p>This should be one of the following character strings:</p><ul><li><p>"mae"</p></li>
<li><p>"mape"</p></li>
<li><p>"mase"</p></li>
<li><p>"smape"</p></li>
<li><p>"rmse"</p></li>
<li><p>"rsq"</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The function outputs a list invisibly.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function expects to take two models. You must tell it if it will
be assessing the training or testing data, where the testing data is the default.
You must therefore supply the splits object to this function along with the origianl
dataset. You must also tell it which default modeltime accuracy metric should
be printed on the graph itself. You can also tell this function to print
information to the console or not. A static <code>ggplot2</code> polot and an interactive
<code>plotly</code> plot will be returned inside of the output list.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other Utility: 
<code><a href="calibrate_and_plot.html">calibrate_and_plot</a>()</code>,
<code><a href="internal_ts_backward_event_tbl.html">internal_ts_backward_event_tbl</a>()</code>,
<code><a href="internal_ts_both_event_tbl.html">internal_ts_both_event_tbl</a>()</code>,
<code><a href="internal_ts_forward_event_tbl.html">internal_ts_forward_event_tbl</a>()</code>,
<code><a href="model_extraction_helper.html">model_extraction_helper</a>()</code>,
<code><a href="ts_get_date_columns.html">ts_get_date_columns</a>()</code>,
<code><a href="ts_info_tbl.html">ts_info_tbl</a>()</code>,
<code><a href="ts_is_date_class.html">ts_is_date_class</a>()</code>,
<code><a href="ts_lag_correlation.html">ts_lag_correlation</a>()</code>,
<code><a href="ts_model_auto_tune.html">ts_model_auto_tune</a>()</code>,
<code><a href="ts_model_rank_tbl.html">ts_model_rank_tbl</a>()</code>,
<code><a href="ts_model_spec_tune_template.html">ts_model_spec_tune_template</a>()</code>,
<code><a href="ts_qq_plot.html">ts_qq_plot</a>()</code>,
<code><a href="ts_scedacity_scatter_plot.html">ts_scedacity_scatter_plot</a>()</code>,
<code><a href="ts_to_tbl.html">ts_to_tbl</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Steven P. Sanderson II, MPH</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/business-science/modeltime" class="external-link">modeltime</a></span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/business-science/timetk" class="external-link">timetk</a></span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rsample.tidymodels.org" class="external-link">rsample</a></span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">data_tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="ts_to_tbl.html">ts_to_tbl</a></span><span class="op">(</span><span class="va">AirPassengers</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">index</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">splits</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/timetk/man/time_series_split.html" class="external-link">time_series_split</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data       <span class="op">=</span> <span class="va">data_tbl</span>,</span></span>
<span class="r-in"><span>  date_var   <span class="op">=</span> <span class="va">date_col</span>,</span></span>
<span class="r-in"><span>  assess     <span class="op">=</span> <span class="st">"12 months"</span>,</span></span>
<span class="r-in"><span>  cumulative <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">rec_obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="ts_auto_recipe.html">ts_auto_recipe</a></span><span class="op">(</span></span></span>
<span class="r-in"><span> .data     <span class="op">=</span> <span class="va">data_tbl</span>,</span></span>
<span class="r-in"><span> .date_col <span class="op">=</span> <span class="va">date_col</span>,</span></span>
<span class="r-in"><span> .pred_col <span class="op">=</span> <span class="va">value</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">wfs_mars</span> <span class="op">&lt;-</span> <span class="fu"><a href="ts_wfs_mars.html">ts_wfs_mars</a></span><span class="op">(</span>.recipe_list <span class="op">=</span> <span class="va">rec_obj</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">wf_fits</span> <span class="op">&lt;-</span> <span class="va">wfs_mars</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://business-science.github.io/modeltime/reference/modeltime_fit_workflowset.html" class="external-link">modeltime_fit_workflowset</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    data <span class="op">=</span> <span class="fu"><a href="https://rsample.tidymodels.org/reference/initial_split.html" class="external-link">training</a></span><span class="op">(</span><span class="va">splits</span><span class="op">)</span></span></span>
<span class="r-in"><span>    , control <span class="op">=</span> <span class="fu"><a href="https://business-science.github.io/modeltime/reference/control_modeltime.html" class="external-link">control_fit_workflowset</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>         allow_par <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span>         , verbose <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span>       <span class="op">)</span></span></span>
<span class="r-in"><span> <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">calibration_tbl</span> <span class="op">&lt;-</span> <span class="va">wf_fits</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://business-science.github.io/modeltime/reference/modeltime_calibrate.html" class="external-link">modeltime_calibrate</a></span><span class="op">(</span>new_data <span class="op">=</span> <span class="fu"><a href="https://rsample.tidymodels.org/reference/initial_split.html" class="external-link">testing</a></span><span class="op">(</span><span class="va">splits</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">base_mars</span> <span class="op">&lt;-</span> <span class="va">calibration_tbl</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://business-science.github.io/modeltime/reference/pluck_modeltime_model.html" class="external-link">pluck_modeltime_model</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">date_mars</span> <span class="op">&lt;-</span> <span class="va">calibration_tbl</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://business-science.github.io/modeltime/reference/pluck_modeltime_model.html" class="external-link">pluck_modeltime_model</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">ts_model_compare</span><span class="op">(</span></span></span>
<span class="r-in"><span> .model_1    <span class="op">=</span> <span class="va">base_mars</span>,</span></span>
<span class="r-in"><span> .model_2    <span class="op">=</span> <span class="va">date_mars</span>,</span></span>
<span class="r-in"><span> .type       <span class="op">=</span> <span class="st">"testing"</span>,</span></span>
<span class="r-in"><span> .splits_obj <span class="op">=</span> <span class="va">splits</span>,</span></span>
<span class="r-in"><span> .data       <span class="op">=</span> <span class="va">data_tbl</span>,</span></span>
<span class="r-in"><span> .print_info <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span> .metric     <span class="op">=</span> <span class="st">"rmse"</span></span></span>
<span class="r-in"><span> <span class="op">)</span><span class="op">$</span><span class="va">plots</span><span class="op">$</span><span class="va">static_plot</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Steven Sanderson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

